/*!
 * Good 0.2.1
 */
var Good;!function(a){"use strict";var b=function(){function a(a){this.message=a}return a.prototype.toString=function(){return this.message},a}();a.Error=b}(Good||(Good={}));var __extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},Good;!function(a){var b;!function(b){var c;!function(b){"use strict";function c(a,b){if(void 0===b&&(b="Contract pre-condition violation"),!a)throw new f(b)}function d(a,b){if(void 0===b&&(b="Contract post-condition violation"),!a)throw new g(b)}var e=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Error);b.Error=e;var f=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(e);b.PreConditionError=f;var g=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(e);b.PostConditionError=g,b.requires=c,b.ensures=d}(c=b.Contract||(b.Contract={}))}(b=a.Patterns||(a.Patterns={}))}(Good||(Good={}));var Good;!function(a){var b;!function(a){var b;!function(a){"use strict";function b(a,b){for(var c=0;c<a.length;c++)arguments.length>=2?a[c](b):a[c]()}function c(a,b){for(var c=0;c<a.length;c++)b.push(a[c])}function d(){function a(){return 0===i.state()}function b(){a()&&i.resolve()}function c(){j++,i.notify([j,f.length])}function d(b){a()&&i.reject(b)}for(var f=[],g=0;g<arguments.length;g++)f[g-0]=arguments[g];for(var h,i=new e,j=0,k=0;k<f.length;k++)h=f[k],h.progress(c).done(b).fail(d);return i.await()}var e=function(){function a(){var a=this;this._doneListeners=[],this._failListeners=[],this._progressListeners=[],this._alwaysListeners=[],this._state=0,this._failed=!1,this._hasError=!1,this._hasResult=!1,this._await={done:function(){for(var d=[],e=0;e<arguments.length;e++)d[e-0]=arguments[e];return c(d,a._doneListeners),1!==a._state||a._failed||(a._hasResult?b(d,a._endResult):b(d)),a._await},fail:function(){for(var d=[],e=0;e<arguments.length;e++)d[e-0]=arguments[e];return c(d,a._failListeners),1===a._state&&a._failed&&(a._hasError?b(d,a._errorResult):b(d)),a._await},progress:function(){for(var b=[],d=0;d<arguments.length;d++)b[d-0]=arguments[d];return c(b,a._progressListeners),a._await},always:function(){for(var d=[],e=0;e<arguments.length;e++)d[e-0]=arguments[e];return c(d,a._alwaysListeners),1===a._state&&b(d),a._await},state:function(){return a._state}}}return a.prototype.state=function(){return this._state},a.prototype.resolve=function(a){0===this._state&&(this._state=1,this._endResult=a,arguments.length>=1?(this._hasResult=!0,b(this._doneListeners,a)):(this._hasResult=!1,b(this._doneListeners)),b(this._alwaysListeners))},a.prototype.reject=function(a){0===this._state&&(this._failed=!0,this._state=1,this._errorResult=a,arguments.length>=1?(this._hasError=!0,b(this._failListeners,a)):(this._hasError=!1,b(this._failListeners)),b(this._alwaysListeners))},a.prototype.notify=function(a){0===this._state&&(arguments.length>=1?b(this._progressListeners,a):b(this._progressListeners))},a.prototype.await=function(){return this._await},a}();a.Async=e;var e;!function(a){!function(a){a[a.Active=0]="Active",a[a.Completed=1]="Completed"}(a.State||(a.State={}));a.State}(e=a.Async||(a.Async={})),a.await=d}(b=a.Future||(a.Future={}))}(b=a.Patterns||(a.Patterns={}))}(Good||(Good={}));var Good;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function b(b,c){void 0===c&&(c=null),this._callback=b,this._async=new a.Future.Async,this._thisArg=c}return b.prototype.await=function(){return this._async.await()},b.prototype.run=function(){for(var a=this,b=[],c=0;c<arguments.length;c++)b[c-0]=arguments[c];return setTimeout(function(){try{a._callback.apply(a._thisArg,[a._async].concat(b)).done(a._async.resolve).fail(a._async.reject)}catch(c){a._async.reject(c)}}),this.await()},b}();b.Task=c}(b=a.Parallel||(a.Parallel={}))}(b=a.Patterns||(a.Patterns={}))}(Good||(Good={}));